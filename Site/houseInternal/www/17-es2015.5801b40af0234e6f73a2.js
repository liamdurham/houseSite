(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{TUkU:function(t,e,n){"use strict";n.r(e),n.d(e,"Tab2PageModule",(function(){return A}));var i=n("TEn/"),o=n("ofXK"),s=n("3Pt+"),r=n("tyNb"),l=n("mrSG"),c=n("fXoL");let a=(()=>{class t{constructor(){this.currentItemList=[],this.subItemList=[],this.currentPersons=[]}loadDataFromLocal(){localStorage.getItem("currentItemList").length>0&&(this.currentItemList=JSON.parse(localStorage.getItem("currentItemList"))),localStorage.getItem("currentPersons").length>0&&(this.currentPersons=JSON.parse(localStorage.getItem("currentPersons")))}addPerson(t){this.currentPersons.push({Name:t,Status:"Active"}),localStorage.setItem("currentPersons",JSON.stringify(this.currentPersons))}removePerson(t){for(var e=0;e<this.currentPersons.length;e++)if(this.currentPersons[e].Name==t)return console.log("found em"),void this.currentPersons.splice(e,1);localStorage.setItem("currentPersons",JSON.stringify(this.currentPersons))}addItem(t,e,n,i){var o=(new Date).toLocaleDateString();console.log(o);var s={Name:t,Status:!1,Color:e,Children:[],Parent:n,Visible:!0,AssignedDate:o,AssignedTo:i,ChildrenVisible:!0};if("none"!==n){for(var r,l=0;l<this.currentItemList.length;l+=1)(r=this.findNode(n,"Name",this.currentItemList[l]))&&r.Children.push(s);console.log(r)}else this.currentItemList.push(s);localStorage.setItem("currentItemList",JSON.stringify(this.currentItemList))}checkForDupes(t){return this.findAllNodesWith(t,"Name",this.currentItemList,this.strictMatch)}hideUnsearched(t){if(t.length>1){this.findAllNodesWithout(t,"Name",this.currentItemList,this.partialMatch).forEach((function(t){t.Visible=!1}));var e=this.findAllNodesWith(t,"Name",this.currentItemList,this.partialMatch);e.forEach((function(t){t.Visible=!0})),console.log(e)}else{var n=this.findAllNodesWith(!1,"Visible",this.currentItemList,this.strictMatch);console.log(n),n.forEach((function(t){t.Visible=!0}))}}strictMatch(t,e){return t===e}partialMatch(t,e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}showOnlyFinished(){this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!1}))}showOnlyUnfinished(){this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!1}))}showAll(){this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0}))}toggleItemStatus(t){for(var e,n=0;n<this.currentItemList.length;n++)(e=this.findNode(t.Name,"Name",this.currentItemList[n]))&&e.Name==t.Name&&(e.Status=!e.Status);t.Children.length>-1&&this.findAllNodesWith(!e.Status,"Status",e.Children,this.strictMatch).forEach((function(t){t.Status=e.Status}))}removeItem(t){for(var e,n=0;n<this.currentItemList.length;n++)if("none"!==t.Parent){if(e=this.findNode(t.Parent,"Name",this.currentItemList[n]),console.log(e),e&&e.Name==t.Parent)return void(e.Children=e.Children.filter((function(e){return e.Name!=t.Name})))}else if(this.currentItemList[n].Name==t.Name)return void this.currentItemList.splice(n,1)}findNode(t,e,n){var i,o;if(n){if(t==n[e])return n;for(i=0;i<=n.Children.length;i++)if(o=this.findNode(t,e,n.Children[i]))return o;o=!1,o=!1}}findMultipleNodes(t,e,n,i,o){var s;if(n)for(o?i(t,n[e])||this.subItemList.push(n):i(t,n[e])&&this.subItemList.push(n),s=0;s<=n.Children.length;s++)this.findMultipleNodes(t,e,n.Children[s],i,o)}cascadeItem(t){if(1==t.ChildrenVisible&&t.Children.length>-1)(e=this.findAllNodesWith(!0,"Visible",t.Children,this.strictMatch)).forEach((function(t){t.Visible=!1})),t.ChildrenVisible=!1,console.log(e);else if(t.Children.length>-1){var e;(e=this.findAllNodesWith(!1,"Visible",t.Children,this.strictMatch)).forEach((function(t){t.Visible=!0})),t.ChildrenVisible=!0,console.log(e)}}findAllNodesWith(t,e,n,i){if(this.subItemList.length=0,n!==[])for(var o=0;o<n.length;o++)this.findMultipleNodes(t,e,n[o],i,!1);return this.subItemList}findAllNodesWithout(t,e,n,i){if(this.subItemList.length=0,n!==[])for(var o=0;o<n.length;o++)this.findMultipleNodes(t,e,n[o],i,!0);return this.subItemList}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u(t,e){if(1&t&&(c.Nb(0,"ion-select-option",14),c.lc(1),c.Mb()),2&t){const t=e.$implicit;c.cc("value",t.Name),c.zb(1),c.nc(" ",t.Name," ")}}function b(t,e){if(1&t){const t=c.Ob();c.Nb(0,"ion-item"),c.Nb(1,"ion-label"),c.lc(2,"Person's Name: "),c.Mb(),c.Kb(3,"ion-input",15),c.Nb(4,"ion-button",16),c.Vb("click",(function(){return c.gc(t),c.Yb().onAddNewPerson()})),c.lc(5," Go! "),c.Mb(),c.Mb()}}function h(t,e){1&t&&c.Lb(0)}function d(t,e){if(1&t&&(c.Nb(0,"ion-select-option",14),c.lc(1),c.Mb()),2&t){const t=e.$implicit;c.cc("value",t.Name),c.zb(1),c.nc(" ",t.Name," ")}}function m(t,e){1&t&&c.Lb(0)}const f=function(t){return{list:t}};function g(t,e){if(1&t&&(c.Nb(0,"div"),c.jc(1,m,1,0,"ng-container",9),c.Mb()),2&t){const t=c.Yb().$implicit;c.Yb(2);const e=c.fc(33);c.zb(1),c.bc("ngTemplateOutlet",e)("ngTemplateOutletContext",c.dc(2,f,t.Children))}}function N(t,e){if(1&t&&(c.Nb(0,"div"),c.Nb(1,"ion-select-option",18),c.lc(2),c.Mb(),c.jc(3,g,2,4,"div",6),c.Mb()),2&t){const t=e.$implicit;c.zb(1),c.cc("value",t.Name),c.zb(1),c.mc(t.Name),c.zb(1),c.bc("ngIf",t.Children.length>0)}}function p(t,e){1&t&&c.jc(0,N,4,3,"div",17),2&t&&c.bc("ngForOf",e.list)}let M=(()=>{class t{constructor(t,e){this.modalCtrl=t,this.stor=e,this.currentItems=[],this.currentPersons=[],this.newPersonFlag=!1}ngOnInit(){this.currentItems=this.stor.currentItemList,this.currentPersons=this.stor.currentPersons}comparePersonSelected(t){console.log(t),"new"==document.getElementById("itemAssignedTo").value&&(console.log("new person detected!"),this.newPersonFlag=!0)}onAddNewPerson(){var t=document.getElementById("newPersonName").value;this.stor.addPerson(t),this.currentPersons=this.stor.currentPersons,document.getElementById("itemAssignedTo").value=t,this.newPersonFlag=!1}removePerson(){var t=document.getElementById("peopleRemover").value;document.getElementById("peopleRemover").value="",this.stor.removePerson(t),this.currentPersons=this.stor.currentPersons}onAddItemConfirmed(){var t=document.getElementById("itemName").value,e=document.getElementById("itemAssignedTo").value,n=document.getElementById("itemParent").value,i=this.stor.checkForDupes(t);console.log(i),t.length>4?0==i.length?(this.stor.addItem(t,"primary",n,e),this.dismissModal()):this.triggerErrorMsg("That task already exists!"):this.triggerErrorMsg("Minimum 5 characters please!")}triggerErrorMsg(t){document.getElementById("taskNameWarning").innerText=t,setTimeout(()=>{this.hideErrorMsg()},1500)}hideErrorMsg(){document.getElementById("taskNameWarning").innerText=""}dismissModal(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.modalCtrl.dismiss()}))}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(i.H),c.Jb(a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-add-item-modal"]],decls:34,vars:7,consts:[["slot","end","type","text","placeholder","dishes?","id","itemName","minlength","5","maxlength","32"],["value","none","id","itemAssignedTo",3,"ionChange"],["slot","start","value","none"],["slot","end",3,"value",4,"ngFor","ngForOf"],["slot","start","value","new"],["name","add"],[4,"ngIf"],["value","none","id","itemParent"],["value","none"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end","id","taskNameWarning","color","danger"],[3,"click"],["value","none","id","peopleRemover"],["recursiveListTmpl",""],["slot","end",3,"value"],["slot","end","type","text","placeholder","nathan?","id","newPersonName","minlength","5","maxlength","32"],["slot","end",3,"click"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){if(1&t&&(c.Nb(0,"ion-list"),c.Nb(1,"ion-item"),c.Nb(2,"ion-label"),c.lc(3,"Task Name: "),c.Mb(),c.Kb(4,"ion-input",0),c.Mb(),c.Nb(5,"ion-item"),c.Nb(6,"ion-label"),c.lc(7,"Assigned To: "),c.Mb(),c.Nb(8,"ion-select",1),c.Vb("ionChange",(function(t){return e.comparePersonSelected(t)})),c.Kb(9,"ion-select-option",2),c.jc(10,u,2,2,"ion-select-option",3),c.Nb(11,"ion-select-option",4),c.Nb(12,"ion-icon",5),c.lc(13,"New Person?"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.jc(14,b,6,0,"ion-item",6),c.Nb(15,"ion-item"),c.Nb(16,"ion-label"),c.lc(17,"Stacked Under: "),c.Mb(),c.Nb(18,"ion-select",7),c.Kb(19,"ion-select-option",8),c.jc(20,h,1,0,"ng-container",9),c.Mb(),c.Mb(),c.Kb(21,"ion-text",10),c.Nb(22,"ion-item"),c.Nb(23,"ion-button",11),c.Vb("click",(function(){return e.onAddItemConfirmed()})),c.lc(24,"Add It!"),c.Mb(),c.Mb(),c.Mb(),c.Nb(25,"ion-item"),c.Nb(26,"ion-label"),c.lc(27,"Need to remove a person? "),c.Mb(),c.Nb(28,"ion-select",12),c.jc(29,d,2,2,"ion-select-option",3),c.Mb(),c.Nb(30,"ion-button",11),c.Vb("click",(function(){return e.removePerson()})),c.lc(31," Delete "),c.Mb(),c.Mb(),c.jc(32,p,1,1,"ng-template",null,13,c.kc)),2&t){const t=c.fc(33);c.zb(10),c.bc("ngForOf",e.currentPersons),c.zb(4),c.bc("ngIf",e.newPersonFlag),c.zb(6),c.bc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.dc(5,f,e.currentItems)),c.zb(9),c.bc("ngForOf",e.currentPersons)}},directives:[i.r,i.l,i.q,i.k,i.K,i.x,i.J,i.y,o.h,i.j,o.i,o.j,i.C,i.b],styles:[""]}),t})();function I(t,e){1&t&&c.Lb(0)}function v(t,e){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-item-group"),c.Nb(2,"ion-item-sliding"),c.Nb(3,"ion-item-options",18),c.Nb(4,"ion-item-option",19),c.Vb("click",(function(){c.gc(t);const e=c.Yb().$implicit;return c.Yb(2).cascadeItem(e)})),c.lc(5),c.Mb(),c.Nb(6,"ion-item-option",20),c.Vb("click",(function(){c.gc(t);const e=c.Yb().$implicit;return c.Yb(2).changeItemStatus(e)})),c.lc(7,"Finished?"),c.Mb(),c.Nb(8,"ion-item-option",21),c.lc(9),c.Mb(),c.Mb(),c.Nb(10,"ion-item"),c.Nb(11,"ion-title"),c.Nb(12,"ion-label",22),c.lc(13),c.Mb(),c.Mb(),c.Mb(),c.Nb(14,"ion-item-options",23),c.Nb(15,"ion-item-option",24),c.Vb("click",(function(){c.gc(t);const e=c.Yb().$implicit;return c.Yb(2).removeItem(e)})),c.lc(16,"Delete?"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=c.Yb().$implicit,e=c.Yb(2);c.zb(5),c.mc(t.Children.length),c.zb(4),c.oc("Created on: ",t.AssignedDate,", Assigned to: ",t.AssignedTo,""),c.zb(3),c.cc("color",e.getColorForItem(t.Status)),c.zb(1),c.mc(t.Name)}}function C(t,e){1&t&&c.Lb(0)}const L=function(t){return{list:t}};function P(t,e){if(1&t&&(c.Nb(0,"div"),c.Nb(1,"ul"),c.Nb(2,"li"),c.jc(3,C,1,0,"ng-container",14),c.Mb(),c.Mb(),c.Mb()),2&t){const t=c.Yb().$implicit;c.Yb(2);const e=c.fc(35);c.zb(3),c.bc("ngTemplateOutlet",e)("ngTemplateOutletContext",c.dc(2,L,t.Children))}}function O(t,e){if(1&t&&(c.Nb(0,"div"),c.jc(1,v,17,5,"div",17),c.jc(2,P,4,4,"div",17),c.Mb()),2&t){const t=e.$implicit;c.zb(1),c.bc("ngIf",t.Visible),c.zb(1),c.bc("ngIf",t.Children.length>0&&1==t.ChildrenVisible&&1==t.Visible)}}function S(t,e){1&t&&c.jc(0,O,3,2,"div",16),2&t&&c.bc("ngForOf",e.list)}const y=[{path:"",component:(()=>{class t{constructor(t,e){this.modalCtrl=t,this.stor=e,this.itemList=[],this.showUnfinishedFlag=!1}ngOnInit(){this.stor.loadDataFromLocal(),this.itemList=this.stor.currentItemList}presentModal(){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:M});return t.onDidDismiss().then(()=>{this.getCurrentItems()}),yield t.present()}))}getCurrentItems(){this.itemList=this.stor.currentItemList}getColorForItem(t){return 0==t?"dark":"medium"}changeItemStatus(t){this.stor.toggleItemStatus(t),this.getCurrentItems()}removeItem(t){this.stor.removeItem(t),this.getCurrentItems()}cascadeItem(t){this.stor.cascadeItem(t),this.getCurrentItems()}onSearch(t){this.stor.hideUnsearched(t.srcElement.value)}filterChanged(t){console.log(t),"unfinished"==t.srcElement.value?this.stor.showOnlyUnfinished():"finished"==t.srcElement.value?this.stor.showOnlyFinished():this.stor.showAll()}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(i.H),c.Jb(a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-tab2"]],decls:36,vars:6,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["horizontal","end","vertical","top"],[3,"click"],["name","add"],[1,"searchInput"],["color","dark","position","floating",1,"searchInput"],["type","text","placeholder"," Can't find it? ",3,"ionInput"],["value","all",3,"ionChange"],["value","all"],["value","finished"],["value","unfinished"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveListTmpl",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["side","start"],["color","primary","name","cascadeButton",3,"click"],["color","success","name","finishedButton",3,"click"],["color","medium"],[3,"color"],["side","end"],["color","danger",3,"click"]],template:function(t,e){if(1&t&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-title"),c.lc(3," List "),c.Mb(),c.Mb(),c.Mb(),c.Nb(4,"ion-content",1),c.Nb(5,"ion-header",2),c.Nb(6,"ion-toolbar"),c.Nb(7,"ion-title",3),c.lc(8,"List"),c.Mb(),c.Mb(),c.Mb(),c.Nb(9,"ion-fab",4),c.Nb(10,"ion-fab-button",5),c.Vb("click",(function(){return e.presentModal()})),c.Kb(11,"ion-icon",6),c.Mb(),c.Mb(),c.Nb(12,"ion-card"),c.Nb(13,"ion-grid"),c.Nb(14,"ion-row"),c.Nb(15,"ion-col"),c.Nb(16,"ion-item",7),c.Nb(17,"ion-label",8),c.lc(18," Search: "),c.Mb(),c.Nb(19,"ion-input",9),c.Vb("ionInput",(function(t){return e.onSearch(t)})),c.Mb(),c.Mb(),c.Mb(),c.Nb(20,"ion-col"),c.Nb(21,"ion-segment",10),c.Vb("ionChange",(function(t){return e.filterChanged(t)})),c.Nb(22,"ion-segment-button",11),c.Nb(23,"ion-label"),c.lc(24,"All"),c.Mb(),c.Mb(),c.Nb(25,"ion-segment-button",12),c.Nb(26,"ion-label"),c.lc(27,"Completed"),c.Mb(),c.Mb(),c.Nb(28,"ion-segment-button",13),c.Nb(29,"ion-label"),c.lc(30,"Incomplete"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(31,"ion-card"),c.Nb(32,"ion-list"),c.jc(33,I,1,0,"ng-container",14),c.Mb(),c.Mb(),c.jc(34,S,1,1,"ng-template",null,15,c.kc),c.Mb()),2&t){const t=c.fc(35);c.bc("translucent",!0),c.zb(4),c.bc("fullscreen",!0),c.zb(29),c.bc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.dc(4,L,e.itemList))}},directives:[i.i,i.E,i.D,i.e,i.f,i.g,i.j,i.c,i.h,i.u,i.d,i.l,i.q,i.k,i.K,i.v,i.J,i.w,i.r,o.j,o.h,o.i,i.m,i.p,i.o,i.n],styles:[".searchInput[_ngcontent-%COMP%]{color:var(--ion-color-steel)}.searchInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid var(--ion-color-veryLightBlue);border-radius:2px;background:hsla(0,0%,100%,.5)}.titleField[_ngcontent-%COMP%]{margin-left:8px}"]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(y)],r.i]}),t})(),A=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[i.F,o.b,s.a,w]]}),t})()}}]);