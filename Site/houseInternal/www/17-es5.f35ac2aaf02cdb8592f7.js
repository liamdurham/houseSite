function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{TUkU:function(t,e,n){"use strict";n.r(e),n.d(e,"Tab2PageModule",(function(){return T}));var i,o=n("TEn/"),r=n("ofXK"),s=n("3Pt+"),l=n("tyNb"),c=n("mrSG"),a=n("fXoL"),u=((i=function(){function t(){_classCallCheck(this,t),this.currentItemList=[],this.subItemList=[],this.currentPersons=[]}return _createClass(t,[{key:"loadDataFromLocal",value:function(){localStorage.getItem("currentItemList").length>0&&(this.currentItemList=JSON.parse(localStorage.getItem("currentItemList"))),localStorage.getItem("currentPersons").length>0&&(this.currentPersons=JSON.parse(localStorage.getItem("currentPersons")))}},{key:"addPerson",value:function(t){this.currentPersons.push({Name:t,Status:"Active"}),localStorage.setItem("currentPersons",JSON.stringify(this.currentPersons))}},{key:"addItem",value:function(t,e,n,i){var o=(new Date).toLocaleDateString();console.log(o);var r={Name:t,Status:!1,Color:e,Children:[],Parent:n,Visible:!0,AssignedDate:o,AssignedTo:i,ChildrenVisible:!0};if("none"!==n){for(var s,l=0;l<this.currentItemList.length;l+=1)(s=this.findNode(n,"Name",this.currentItemList[l]))&&s.Children.push(r);console.log(s)}else this.currentItemList.push(r);localStorage.setItem("currentItemList",JSON.stringify(this.currentItemList))}},{key:"checkForDupes",value:function(t){return this.findAllNodesWith(t,"Name",this.currentItemList,this.strictMatch)}},{key:"hideUnsearched",value:function(t){if(t.length>1){this.findAllNodesWithout(t,"Name",this.currentItemList,this.partialMatch).forEach((function(t){t.Visible=!1}));var e=this.findAllNodesWith(t,"Name",this.currentItemList,this.partialMatch);e.forEach((function(t){t.Visible=!0})),console.log(e)}else{var n=this.findAllNodesWith(!1,"Visible",this.currentItemList,this.strictMatch);console.log(n),n.forEach((function(t){t.Visible=!0}))}}},{key:"strictMatch",value:function(t,e){return t===e}},{key:"partialMatch",value:function(t,e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}},{key:"showOnlyFinished",value:function(){this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!1}))}},{key:"showOnlyUnfinished",value:function(){this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!1}))}},{key:"showAll",value:function(){this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0}))}},{key:"toggleItemStatus",value:function(t){for(var e,n=0;n<this.currentItemList.length;n++)(e=this.findNode(t.Name,"Name",this.currentItemList[n]))&&e.Name==t.Name&&(e.Status=!e.Status);t.Children.length>-1&&this.findAllNodesWith(!e.Status,"Status",e.Children,this.strictMatch).forEach((function(t){t.Status=e.Status}))}},{key:"removeItem",value:function(t){for(var e,n=0;n<this.currentItemList.length;n++)if("none"!==t.Parent){if(e=this.findNode(t.Parent,"Name",this.currentItemList[n]),console.log(e),e&&e.Name==t.Parent)return void(e.Children=e.Children.filter((function(e){return e.Name!=t.Name})))}else if(this.currentItemList[n].Name==t.Name)return void this.currentItemList.splice(n,1)}},{key:"findNode",value:function(t,e,n){var i,o;if(n){if(t==n[e])return n;for(i=0;i<=n.Children.length;i++)if(o=this.findNode(t,e,n.Children[i]))return o;o=!1,o=!1}}},{key:"findMultipleNodes",value:function(t,e,n,i,o){var r;if(n)for(o?i(t,n[e])||this.subItemList.push(n):i(t,n[e])&&this.subItemList.push(n),r=0;r<=n.Children.length;r++)this.findMultipleNodes(t,e,n.Children[r],i,o)}},{key:"cascadeItem",value:function(t){if(1==t.ChildrenVisible&&t.Children.length>-1)(e=this.findAllNodesWith(!0,"Visible",t.Children,this.strictMatch)).forEach((function(t){t.Visible=!1})),t.ChildrenVisible=!1,console.log(e);else if(t.Children.length>-1){var e;(e=this.findAllNodesWith(!1,"Visible",t.Children,this.strictMatch)).forEach((function(t){t.Visible=!0})),t.ChildrenVisible=!0,console.log(e)}}},{key:"findAllNodesWith",value:function(t,e,n,i){if(this.subItemList.length=0,n!==[])for(var o=0;o<n.length;o++)this.findMultipleNodes(t,e,n[o],i,!1);return this.subItemList}},{key:"findAllNodesWithout",value:function(t,e,n,i){if(this.subItemList.length=0,n!==[])for(var o=0;o<n.length;o++)this.findMultipleNodes(t,e,n[o],i,!0);return this.subItemList}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275prov=a.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function h(t,e){if(1&t&&(a.Nb(0,"ion-select-option",12),a.lc(1),a.Mb()),2&t){var n=e.$implicit;a.cc("value",n.Name),a.zb(1),a.nc(" ",n.Name,"")}}function b(t,e){if(1&t){var n=a.Ob();a.Nb(0,"ion-item"),a.Nb(1,"ion-label"),a.lc(2,"Person's Name: "),a.Mb(),a.Kb(3,"ion-input",13),a.Nb(4,"ion-button",14),a.Vb("click",(function(){return a.gc(n),a.Yb().onAddNewPerson()})),a.lc(5," Go! "),a.Mb(),a.Mb()}}function d(t,e){1&t&&a.Lb(0)}function m(t,e){1&t&&a.Lb(0)}var f=function(t){return{list:t}};function g(t,e){if(1&t&&(a.Nb(0,"div"),a.jc(1,m,1,0,"ng-container",8),a.Mb()),2&t){var n=a.Yb().$implicit;a.Yb(2);var i=a.fc(26);a.zb(1),a.bc("ngTemplateOutlet",i)("ngTemplateOutletContext",a.dc(2,f,n.Children))}}function p(t,e){if(1&t&&(a.Nb(0,"div"),a.Nb(1,"ion-select-option",12),a.lc(2),a.Mb(),a.jc(3,g,2,4,"div",6),a.Mb()),2&t){var n=e.$implicit;a.zb(1),a.cc("value",n.Name),a.zb(1),a.mc(n.Name),a.zb(1),a.bc("ngIf",n.Children.length>0)}}function v(t,e){1&t&&a.jc(0,p,4,3,"div",15),2&t&&a.bc("ngForOf",e.list)}var N,M=((N=function(){function t(e,n){_classCallCheck(this,t),this.modalCtrl=e,this.stor=n,this.currentItems=[],this.currentPersons=[],this.newPersonFlag=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.currentItems=this.stor.currentItemList,this.currentPersons=this.stor.currentPersons}},{key:"comparePersonSelected",value:function(t){console.log(t),"new"==document.getElementById("itemAssignedTo").value&&(console.log("new person detected!"),this.newPersonFlag=!0)}},{key:"onAddNewPerson",value:function(){var t=document.getElementById("newPersonName").value;this.stor.addPerson(t),this.currentPersons=this.stor.currentPersons,document.getElementById("itemAssignedTo").value=t,this.newPersonFlag=!1}},{key:"onAddItemConfirmed",value:function(){var t=document.getElementById("itemName").value,e=document.getElementById("itemAssignedTo").value,n=document.getElementById("itemParent").value,i=this.stor.checkForDupes(t);console.log(i),t.length>4?0==i.length?(this.stor.addItem(t,"primary",n,e),this.dismissModal()):this.triggerErrorMsg("That task already exists!"):this.triggerErrorMsg("Minimum 5 characters please!")}},{key:"triggerErrorMsg",value:function(t){var e=this;document.getElementById("taskNameWarning").innerText=t,setTimeout((function(){e.hideErrorMsg()}),1500)}},{key:"hideErrorMsg",value:function(){document.getElementById("taskNameWarning").innerText=""}},{key:"dismissModal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.dismiss();case 2:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||N)(a.Jb(o.H),a.Jb(u))},N.\u0275cmp=a.Db({type:N,selectors:[["app-add-item-modal"]],decls:27,vars:6,consts:[["slot","end","type","text","placeholder","dishes?","id","itemName","minlength","5","maxlength","32"],["value","none","id","itemAssignedTo",3,"ionChange"],["value","none"],[3,"value",4,"ngFor","ngForOf"],["value","new"],["name","add"],[4,"ngIf"],["value","none","id","itemParent"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end","id","taskNameWarning","color","danger"],[3,"click"],["recursiveListTmpl",""],[3,"value"],["slot","end","type","text","placeholder","nathan?","id","newPersonName","minlength","5","maxlength","32"],["slot","end",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(a.Nb(0,"ion-list"),a.Nb(1,"ion-item"),a.Nb(2,"ion-label"),a.lc(3,"Task Name: "),a.Mb(),a.Kb(4,"ion-input",0),a.Mb(),a.Nb(5,"ion-item"),a.Nb(6,"ion-label"),a.lc(7,"Assigned To: "),a.Mb(),a.Nb(8,"ion-select",1),a.Vb("ionChange",(function(t){return e.comparePersonSelected(t)})),a.Kb(9,"ion-select-option",2),a.jc(10,h,2,2,"ion-select-option",3),a.Nb(11,"ion-select-option",4),a.Nb(12,"ion-icon",5),a.lc(13,"New Person?"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.jc(14,b,6,0,"ion-item",6),a.Nb(15,"ion-item"),a.Nb(16,"ion-label"),a.lc(17,"Stacked Under: "),a.Mb(),a.Nb(18,"ion-select",7),a.Kb(19,"ion-select-option",2),a.jc(20,d,1,0,"ng-container",8),a.Mb(),a.Mb(),a.Kb(21,"ion-text",9),a.Nb(22,"ion-item"),a.Nb(23,"ion-button",10),a.Vb("click",(function(){return e.onAddItemConfirmed()})),a.lc(24,"Add It!"),a.Mb(),a.Mb(),a.Mb(),a.jc(25,v,1,1,"ng-template",null,11,a.kc)),2&t){var n=a.fc(26);a.zb(10),a.bc("ngForOf",e.currentPersons),a.zb(4),a.bc("ngIf",e.newPersonFlag),a.zb(6),a.bc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.dc(4,f,e.currentItems))}},directives:[o.r,o.l,o.q,o.k,o.K,o.x,o.J,o.y,r.h,o.j,r.i,r.j,o.C,o.b],styles:[""]}),N);function I(t,e){1&t&&a.Lb(0)}function C(t,e){if(1&t){var n=a.Ob();a.Nb(0,"div"),a.Nb(1,"ion-item-group"),a.Nb(2,"ion-item-sliding"),a.Nb(3,"ion-item-options",18),a.Nb(4,"ion-item-option",19),a.Vb("click",(function(){a.gc(n);var t=a.Yb().$implicit;return a.Yb(2).cascadeItem(t)})),a.lc(5),a.Mb(),a.Nb(6,"ion-item-option",20),a.Vb("click",(function(){a.gc(n);var t=a.Yb().$implicit;return a.Yb(2).changeItemStatus(t)})),a.lc(7,"Finished?"),a.Mb(),a.Nb(8,"ion-item-option",21),a.lc(9),a.Mb(),a.Mb(),a.Nb(10,"ion-item"),a.Nb(11,"ion-title"),a.Nb(12,"ion-label",22),a.lc(13),a.Mb(),a.Mb(),a.Mb(),a.Nb(14,"ion-item-options",23),a.Nb(15,"ion-item-option",24),a.Vb("click",(function(){a.gc(n);var t=a.Yb().$implicit;return a.Yb(2).removeItem(t)})),a.lc(16,"Delete?"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb()}if(2&t){var i=a.Yb().$implicit,o=a.Yb(2);a.zb(5),a.mc(i.Children.length),a.zb(4),a.oc("Created on: ",i.AssignedDate,", Assigned to: ",i.AssignedTo,""),a.zb(3),a.cc("color",o.getColorForItem(i.Status)),a.zb(1),a.mc(i.Name)}}function k(t,e){1&t&&a.Lb(0)}var y=function(t){return{list:t}};function L(t,e){if(1&t&&(a.Nb(0,"div"),a.Nb(1,"ul"),a.Nb(2,"li"),a.jc(3,k,1,0,"ng-container",14),a.Mb(),a.Mb(),a.Mb()),2&t){var n=a.Yb().$implicit;a.Yb(2);var i=a.fc(35);a.zb(3),a.bc("ngTemplateOutlet",i)("ngTemplateOutletContext",a.dc(2,y,n.Children))}}function w(t,e){if(1&t&&(a.Nb(0,"div"),a.jc(1,C,17,5,"div",17),a.jc(2,L,4,4,"div",17),a.Mb()),2&t){var n=e.$implicit;a.zb(1),a.bc("ngIf",n.Visible),a.zb(1),a.bc("ngIf",n.Children.length>0&&1==n.ChildrenVisible&&1==n.Visible)}}function P(t,e){1&t&&a.jc(0,w,3,2,"div",16),2&t&&a.bc("ngForOf",e.list)}var O,S,A,E=[{path:"",component:(O=function(){function t(e,n){_classCallCheck(this,t),this.modalCtrl=e,this.stor=n,this.itemList=[],this.showUnfinishedFlag=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.stor.loadDataFromLocal(),this.itemList=this.stor.currentItemList}},{key:"presentModal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:M});case 2:return(e=t.sent).onDidDismiss().then((function(){n.getCurrentItems()})),t.next=6,e.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getCurrentItems",value:function(){this.itemList=this.stor.currentItemList}},{key:"getColorForItem",value:function(t){return 0==t?"dark":"medium"}},{key:"changeItemStatus",value:function(t){this.stor.toggleItemStatus(t),this.getCurrentItems()}},{key:"removeItem",value:function(t){this.stor.removeItem(t),this.getCurrentItems()}},{key:"cascadeItem",value:function(t){this.stor.cascadeItem(t),this.getCurrentItems()}},{key:"onSearch",value:function(t){this.stor.hideUnsearched(t.srcElement.value)}},{key:"filterChanged",value:function(t){console.log(t),"unfinished"==t.srcElement.value?this.stor.showOnlyUnfinished():"finished"==t.srcElement.value?this.stor.showOnlyFinished():this.stor.showAll()}}]),t}(),O.\u0275fac=function(t){return new(t||O)(a.Jb(o.H),a.Jb(u))},O.\u0275cmp=a.Db({type:O,selectors:[["app-tab2"]],decls:36,vars:6,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["horizontal","end","vertical","top"],[3,"click"],["name","add"],[1,"searchInput"],["color","dark","position","floating",1,"searchInput"],["type","text","placeholder"," Can't find it? ",3,"ionInput"],["value","all",3,"ionChange"],["value","all"],["value","finished"],["value","unfinished"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveListTmpl",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["side","start"],["color","primary","name","cascadeButton",3,"click"],["color","success","name","finishedButton",3,"click"],["color","medium"],[3,"color"],["side","end"],["color","danger",3,"click"]],template:function(t,e){if(1&t&&(a.Nb(0,"ion-header",0),a.Nb(1,"ion-toolbar"),a.Nb(2,"ion-title"),a.lc(3," List "),a.Mb(),a.Mb(),a.Mb(),a.Nb(4,"ion-content",1),a.Nb(5,"ion-header",2),a.Nb(6,"ion-toolbar"),a.Nb(7,"ion-title",3),a.lc(8,"List"),a.Mb(),a.Mb(),a.Mb(),a.Nb(9,"ion-fab",4),a.Nb(10,"ion-fab-button",5),a.Vb("click",(function(){return e.presentModal()})),a.Kb(11,"ion-icon",6),a.Mb(),a.Mb(),a.Nb(12,"ion-card"),a.Nb(13,"ion-grid"),a.Nb(14,"ion-row"),a.Nb(15,"ion-col"),a.Nb(16,"ion-item",7),a.Nb(17,"ion-label",8),a.lc(18," Search: "),a.Mb(),a.Nb(19,"ion-input",9),a.Vb("ionInput",(function(t){return e.onSearch(t)})),a.Mb(),a.Mb(),a.Mb(),a.Nb(20,"ion-col"),a.Nb(21,"ion-segment",10),a.Vb("ionChange",(function(t){return e.filterChanged(t)})),a.Nb(22,"ion-segment-button",11),a.Nb(23,"ion-label"),a.lc(24,"All"),a.Mb(),a.Mb(),a.Nb(25,"ion-segment-button",12),a.Nb(26,"ion-label"),a.lc(27,"Completed"),a.Mb(),a.Mb(),a.Nb(28,"ion-segment-button",13),a.Nb(29,"ion-label"),a.lc(30,"Incomplete"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(31,"ion-card"),a.Nb(32,"ion-list"),a.jc(33,I,1,0,"ng-container",14),a.Mb(),a.Mb(),a.jc(34,P,1,1,"ng-template",null,15,a.kc),a.Mb()),2&t){var n=a.fc(35);a.bc("translucent",!0),a.zb(4),a.bc("fullscreen",!0),a.zb(29),a.bc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.dc(4,y,e.itemList))}},directives:[o.i,o.E,o.D,o.e,o.f,o.g,o.j,o.c,o.h,o.u,o.d,o.l,o.q,o.k,o.K,o.v,o.J,o.w,o.r,r.j,r.h,r.i,o.m,o.p,o.o,o.n],styles:[".searchInput[_ngcontent-%COMP%]{color:var(--ion-color-steel)}.searchInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid var(--ion-color-veryLightBlue);border-radius:2px;background:hsla(0,0%,100%,.5)}.titleField[_ngcontent-%COMP%]{margin-left:8px}"]}),O)}],V=((A=function t(){_classCallCheck(this,t)}).\u0275mod=a.Hb({type:A}),A.\u0275inj=a.Gb({factory:function(t){return new(t||A)},imports:[[l.i.forChild(E)],l.i]}),A),T=((S=function t(){_classCallCheck(this,t)}).\u0275mod=a.Hb({type:S}),S.\u0275inj=a.Gb({factory:function(t){return new(t||S)},imports:[[o.F,r.b,s.a,V]]}),S)}}]);