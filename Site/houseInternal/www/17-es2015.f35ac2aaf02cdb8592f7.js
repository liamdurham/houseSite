(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{TUkU:function(t,e,i){"use strict";i.r(e),i.d(e,"Tab2PageModule",(function(){return y}));var n=i("TEn/"),s=i("ofXK"),o=i("3Pt+"),r=i("tyNb"),l=i("mrSG"),c=i("fXoL");let a=(()=>{class t{constructor(){this.currentItemList=[],this.subItemList=[],this.currentPersons=[]}loadDataFromLocal(){localStorage.getItem("currentItemList").length>0&&(this.currentItemList=JSON.parse(localStorage.getItem("currentItemList"))),localStorage.getItem("currentPersons").length>0&&(this.currentPersons=JSON.parse(localStorage.getItem("currentPersons")))}addPerson(t){this.currentPersons.push({Name:t,Status:"Active"}),localStorage.setItem("currentPersons",JSON.stringify(this.currentPersons))}addItem(t,e,i,n){var s=(new Date).toLocaleDateString();console.log(s);var o={Name:t,Status:!1,Color:e,Children:[],Parent:i,Visible:!0,AssignedDate:s,AssignedTo:n,ChildrenVisible:!0};if("none"!==i){for(var r,l=0;l<this.currentItemList.length;l+=1)(r=this.findNode(i,"Name",this.currentItemList[l]))&&r.Children.push(o);console.log(r)}else this.currentItemList.push(o);localStorage.setItem("currentItemList",JSON.stringify(this.currentItemList))}checkForDupes(t){return this.findAllNodesWith(t,"Name",this.currentItemList,this.strictMatch)}hideUnsearched(t){if(t.length>1){this.findAllNodesWithout(t,"Name",this.currentItemList,this.partialMatch).forEach((function(t){t.Visible=!1}));var e=this.findAllNodesWith(t,"Name",this.currentItemList,this.partialMatch);e.forEach((function(t){t.Visible=!0})),console.log(e)}else{var i=this.findAllNodesWith(!1,"Visible",this.currentItemList,this.strictMatch);console.log(i),i.forEach((function(t){t.Visible=!0}))}}strictMatch(t,e){return t===e}partialMatch(t,e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}showOnlyFinished(){this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!1}))}showOnlyUnfinished(){this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!1}))}showAll(){this.findAllNodesWith(!1,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0})),this.findAllNodesWith(!0,"Status",this.currentItemList,this.strictMatch).forEach((function(t){t.Visible=!0}))}toggleItemStatus(t){for(var e,i=0;i<this.currentItemList.length;i++)(e=this.findNode(t.Name,"Name",this.currentItemList[i]))&&e.Name==t.Name&&(e.Status=!e.Status);t.Children.length>-1&&this.findAllNodesWith(!e.Status,"Status",e.Children,this.strictMatch).forEach((function(t){t.Status=e.Status}))}removeItem(t){for(var e,i=0;i<this.currentItemList.length;i++)if("none"!==t.Parent){if(e=this.findNode(t.Parent,"Name",this.currentItemList[i]),console.log(e),e&&e.Name==t.Parent)return void(e.Children=e.Children.filter((function(e){return e.Name!=t.Name})))}else if(this.currentItemList[i].Name==t.Name)return void this.currentItemList.splice(i,1)}findNode(t,e,i){var n,s;if(i){if(t==i[e])return i;for(n=0;n<=i.Children.length;n++)if(s=this.findNode(t,e,i.Children[n]))return s;s=!1,s=!1}}findMultipleNodes(t,e,i,n,s){var o;if(i)for(s?n(t,i[e])||this.subItemList.push(i):n(t,i[e])&&this.subItemList.push(i),o=0;o<=i.Children.length;o++)this.findMultipleNodes(t,e,i.Children[o],n,s)}cascadeItem(t){if(1==t.ChildrenVisible&&t.Children.length>-1)(e=this.findAllNodesWith(!0,"Visible",t.Children,this.strictMatch)).forEach((function(t){t.Visible=!1})),t.ChildrenVisible=!1,console.log(e);else if(t.Children.length>-1){var e;(e=this.findAllNodesWith(!1,"Visible",t.Children,this.strictMatch)).forEach((function(t){t.Visible=!0})),t.ChildrenVisible=!0,console.log(e)}}findAllNodesWith(t,e,i,n){if(this.subItemList.length=0,i!==[])for(var s=0;s<i.length;s++)this.findMultipleNodes(t,e,i[s],n,!1);return this.subItemList}findAllNodesWithout(t,e,i,n){if(this.subItemList.length=0,i!==[])for(var s=0;s<i.length;s++)this.findMultipleNodes(t,e,i[s],n,!0);return this.subItemList}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h(t,e){if(1&t&&(c.Nb(0,"ion-select-option",12),c.lc(1),c.Mb()),2&t){const t=e.$implicit;c.cc("value",t.Name),c.zb(1),c.nc(" ",t.Name,"")}}function b(t,e){if(1&t){const t=c.Ob();c.Nb(0,"ion-item"),c.Nb(1,"ion-label"),c.lc(2,"Person's Name: "),c.Mb(),c.Kb(3,"ion-input",13),c.Nb(4,"ion-button",14),c.Vb("click",(function(){return c.gc(t),c.Yb().onAddNewPerson()})),c.lc(5," Go! "),c.Mb(),c.Mb()}}function u(t,e){1&t&&c.Lb(0)}function d(t,e){1&t&&c.Lb(0)}const m=function(t){return{list:t}};function f(t,e){if(1&t&&(c.Nb(0,"div"),c.jc(1,d,1,0,"ng-container",8),c.Mb()),2&t){const t=c.Yb().$implicit;c.Yb(2);const e=c.fc(26);c.zb(1),c.bc("ngTemplateOutlet",e)("ngTemplateOutletContext",c.dc(2,m,t.Children))}}function g(t,e){if(1&t&&(c.Nb(0,"div"),c.Nb(1,"ion-select-option",12),c.lc(2),c.Mb(),c.jc(3,f,2,4,"div",6),c.Mb()),2&t){const t=e.$implicit;c.zb(1),c.cc("value",t.Name),c.zb(1),c.mc(t.Name),c.zb(1),c.bc("ngIf",t.Children.length>0)}}function N(t,e){1&t&&c.jc(0,g,4,3,"div",15),2&t&&c.bc("ngForOf",e.list)}let p=(()=>{class t{constructor(t,e){this.modalCtrl=t,this.stor=e,this.currentItems=[],this.currentPersons=[],this.newPersonFlag=!1}ngOnInit(){this.currentItems=this.stor.currentItemList,this.currentPersons=this.stor.currentPersons}comparePersonSelected(t){console.log(t),"new"==document.getElementById("itemAssignedTo").value&&(console.log("new person detected!"),this.newPersonFlag=!0)}onAddNewPerson(){var t=document.getElementById("newPersonName").value;this.stor.addPerson(t),this.currentPersons=this.stor.currentPersons,document.getElementById("itemAssignedTo").value=t,this.newPersonFlag=!1}onAddItemConfirmed(){var t=document.getElementById("itemName").value,e=document.getElementById("itemAssignedTo").value,i=document.getElementById("itemParent").value,n=this.stor.checkForDupes(t);console.log(n),t.length>4?0==n.length?(this.stor.addItem(t,"primary",i,e),this.dismissModal()):this.triggerErrorMsg("That task already exists!"):this.triggerErrorMsg("Minimum 5 characters please!")}triggerErrorMsg(t){document.getElementById("taskNameWarning").innerText=t,setTimeout(()=>{this.hideErrorMsg()},1500)}hideErrorMsg(){document.getElementById("taskNameWarning").innerText=""}dismissModal(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.modalCtrl.dismiss()}))}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(n.H),c.Jb(a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-add-item-modal"]],decls:27,vars:6,consts:[["slot","end","type","text","placeholder","dishes?","id","itemName","minlength","5","maxlength","32"],["value","none","id","itemAssignedTo",3,"ionChange"],["value","none"],[3,"value",4,"ngFor","ngForOf"],["value","new"],["name","add"],[4,"ngIf"],["value","none","id","itemParent"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end","id","taskNameWarning","color","danger"],[3,"click"],["recursiveListTmpl",""],[3,"value"],["slot","end","type","text","placeholder","nathan?","id","newPersonName","minlength","5","maxlength","32"],["slot","end",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(c.Nb(0,"ion-list"),c.Nb(1,"ion-item"),c.Nb(2,"ion-label"),c.lc(3,"Task Name: "),c.Mb(),c.Kb(4,"ion-input",0),c.Mb(),c.Nb(5,"ion-item"),c.Nb(6,"ion-label"),c.lc(7,"Assigned To: "),c.Mb(),c.Nb(8,"ion-select",1),c.Vb("ionChange",(function(t){return e.comparePersonSelected(t)})),c.Kb(9,"ion-select-option",2),c.jc(10,h,2,2,"ion-select-option",3),c.Nb(11,"ion-select-option",4),c.Nb(12,"ion-icon",5),c.lc(13,"New Person?"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.jc(14,b,6,0,"ion-item",6),c.Nb(15,"ion-item"),c.Nb(16,"ion-label"),c.lc(17,"Stacked Under: "),c.Mb(),c.Nb(18,"ion-select",7),c.Kb(19,"ion-select-option",2),c.jc(20,u,1,0,"ng-container",8),c.Mb(),c.Mb(),c.Kb(21,"ion-text",9),c.Nb(22,"ion-item"),c.Nb(23,"ion-button",10),c.Vb("click",(function(){return e.onAddItemConfirmed()})),c.lc(24,"Add It!"),c.Mb(),c.Mb(),c.Mb(),c.jc(25,N,1,1,"ng-template",null,11,c.kc)),2&t){const t=c.fc(26);c.zb(10),c.bc("ngForOf",e.currentPersons),c.zb(4),c.bc("ngIf",e.newPersonFlag),c.zb(6),c.bc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.dc(4,m,e.currentItems))}},directives:[n.r,n.l,n.q,n.k,n.K,n.x,n.J,n.y,s.h,n.j,s.i,s.j,n.C,n.b],styles:[""]}),t})();function M(t,e){1&t&&c.Lb(0)}function I(t,e){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-item-group"),c.Nb(2,"ion-item-sliding"),c.Nb(3,"ion-item-options",18),c.Nb(4,"ion-item-option",19),c.Vb("click",(function(){c.gc(t);const e=c.Yb().$implicit;return c.Yb(2).cascadeItem(e)})),c.lc(5),c.Mb(),c.Nb(6,"ion-item-option",20),c.Vb("click",(function(){c.gc(t);const e=c.Yb().$implicit;return c.Yb(2).changeItemStatus(e)})),c.lc(7,"Finished?"),c.Mb(),c.Nb(8,"ion-item-option",21),c.lc(9),c.Mb(),c.Mb(),c.Nb(10,"ion-item"),c.Nb(11,"ion-title"),c.Nb(12,"ion-label",22),c.lc(13),c.Mb(),c.Mb(),c.Mb(),c.Nb(14,"ion-item-options",23),c.Nb(15,"ion-item-option",24),c.Vb("click",(function(){c.gc(t);const e=c.Yb().$implicit;return c.Yb(2).removeItem(e)})),c.lc(16,"Delete?"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=c.Yb().$implicit,e=c.Yb(2);c.zb(5),c.mc(t.Children.length),c.zb(4),c.oc("Created on: ",t.AssignedDate,", Assigned to: ",t.AssignedTo,""),c.zb(3),c.cc("color",e.getColorForItem(t.Status)),c.zb(1),c.mc(t.Name)}}function v(t,e){1&t&&c.Lb(0)}const C=function(t){return{list:t}};function L(t,e){if(1&t&&(c.Nb(0,"div"),c.Nb(1,"ul"),c.Nb(2,"li"),c.jc(3,v,1,0,"ng-container",14),c.Mb(),c.Mb(),c.Mb()),2&t){const t=c.Yb().$implicit;c.Yb(2);const e=c.fc(35);c.zb(3),c.bc("ngTemplateOutlet",e)("ngTemplateOutletContext",c.dc(2,C,t.Children))}}function P(t,e){if(1&t&&(c.Nb(0,"div"),c.jc(1,I,17,5,"div",17),c.jc(2,L,4,4,"div",17),c.Mb()),2&t){const t=e.$implicit;c.zb(1),c.bc("ngIf",t.Visible),c.zb(1),c.bc("ngIf",t.Children.length>0&&1==t.ChildrenVisible&&1==t.Visible)}}function O(t,e){1&t&&c.jc(0,P,3,2,"div",16),2&t&&c.bc("ngForOf",e.list)}const S=[{path:"",component:(()=>{class t{constructor(t,e){this.modalCtrl=t,this.stor=e,this.itemList=[],this.showUnfinishedFlag=!1}ngOnInit(){this.stor.loadDataFromLocal(),this.itemList=this.stor.currentItemList}presentModal(){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:p});return t.onDidDismiss().then(()=>{this.getCurrentItems()}),yield t.present()}))}getCurrentItems(){this.itemList=this.stor.currentItemList}getColorForItem(t){return 0==t?"dark":"medium"}changeItemStatus(t){this.stor.toggleItemStatus(t),this.getCurrentItems()}removeItem(t){this.stor.removeItem(t),this.getCurrentItems()}cascadeItem(t){this.stor.cascadeItem(t),this.getCurrentItems()}onSearch(t){this.stor.hideUnsearched(t.srcElement.value)}filterChanged(t){console.log(t),"unfinished"==t.srcElement.value?this.stor.showOnlyUnfinished():"finished"==t.srcElement.value?this.stor.showOnlyFinished():this.stor.showAll()}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(n.H),c.Jb(a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-tab2"]],decls:36,vars:6,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["horizontal","end","vertical","top"],[3,"click"],["name","add"],[1,"searchInput"],["color","dark","position","floating",1,"searchInput"],["type","text","placeholder"," Can't find it? ",3,"ionInput"],["value","all",3,"ionChange"],["value","all"],["value","finished"],["value","unfinished"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveListTmpl",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["side","start"],["color","primary","name","cascadeButton",3,"click"],["color","success","name","finishedButton",3,"click"],["color","medium"],[3,"color"],["side","end"],["color","danger",3,"click"]],template:function(t,e){if(1&t&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-title"),c.lc(3," List "),c.Mb(),c.Mb(),c.Mb(),c.Nb(4,"ion-content",1),c.Nb(5,"ion-header",2),c.Nb(6,"ion-toolbar"),c.Nb(7,"ion-title",3),c.lc(8,"List"),c.Mb(),c.Mb(),c.Mb(),c.Nb(9,"ion-fab",4),c.Nb(10,"ion-fab-button",5),c.Vb("click",(function(){return e.presentModal()})),c.Kb(11,"ion-icon",6),c.Mb(),c.Mb(),c.Nb(12,"ion-card"),c.Nb(13,"ion-grid"),c.Nb(14,"ion-row"),c.Nb(15,"ion-col"),c.Nb(16,"ion-item",7),c.Nb(17,"ion-label",8),c.lc(18," Search: "),c.Mb(),c.Nb(19,"ion-input",9),c.Vb("ionInput",(function(t){return e.onSearch(t)})),c.Mb(),c.Mb(),c.Mb(),c.Nb(20,"ion-col"),c.Nb(21,"ion-segment",10),c.Vb("ionChange",(function(t){return e.filterChanged(t)})),c.Nb(22,"ion-segment-button",11),c.Nb(23,"ion-label"),c.lc(24,"All"),c.Mb(),c.Mb(),c.Nb(25,"ion-segment-button",12),c.Nb(26,"ion-label"),c.lc(27,"Completed"),c.Mb(),c.Mb(),c.Nb(28,"ion-segment-button",13),c.Nb(29,"ion-label"),c.lc(30,"Incomplete"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(31,"ion-card"),c.Nb(32,"ion-list"),c.jc(33,M,1,0,"ng-container",14),c.Mb(),c.Mb(),c.jc(34,O,1,1,"ng-template",null,15,c.kc),c.Mb()),2&t){const t=c.fc(35);c.bc("translucent",!0),c.zb(4),c.bc("fullscreen",!0),c.zb(29),c.bc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.dc(4,C,e.itemList))}},directives:[n.i,n.E,n.D,n.e,n.f,n.g,n.j,n.c,n.h,n.u,n.d,n.l,n.q,n.k,n.K,n.v,n.J,n.w,n.r,s.j,s.h,s.i,n.m,n.p,n.o,n.n],styles:[".searchInput[_ngcontent-%COMP%]{color:var(--ion-color-steel)}.searchInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid var(--ion-color-veryLightBlue);border-radius:2px;background:hsla(0,0%,100%,.5)}.titleField[_ngcontent-%COMP%]{margin-left:8px}"]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(S)],r.i]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[n.F,s.b,o.a,w]]}),t})()}}]);